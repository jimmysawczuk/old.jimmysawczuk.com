!function(a){function b(){a(c.text).focus(function(){a(c.text).val()==a(c.text).data("description")&&(a(c.text).val(""),a(c.container).removeClass("empty"))}),a(c.text).blur(function(){""==a(c.text).val()&&(a(c.text).val(a(c.text).data("description")),a(c.container).addClass("empty"))}),a(c.text).blur()}var c={container:"#search",text:"#search_text",submit:"#search_submit"};a(document).ready(b)}(jQuery);var BitBucket={load:function(a,b){$.get(Config.stylesheet_directory+"/ajax/bitbucket-activity-feed.php",{},function(c){$(a).html(c),"function"==typeof b&&b()})}},Github=function(a){function b(b,c){a.get(Config.stylesheet_directory+"/ajax/github-activity-feed.php",{count:7},function(d){a(b).html(d),"function"==typeof c&&c()})}return{load:b}}(jQuery);$(document).ready(function(){Config.sidebar_visible&&Github.load("#github_events",function(){$("#github_events .timeago").timeago()})});var Goodreads=function(a){function b(b,c){var d=a(b);a.get(Config.stylesheet_directory+"/ajax/goodreads-activity-feed.php",{shelf:d.data("shelf"),widgetId:d.data("widgetId")},function(b){var e=a("<ul />");a.each(b,function(b,c){var d=[];""!=c.book.publisher&&d.push(c.book.publisher),c.read_at.length>0?d.push('Finished <span class="timeago" title="'+c.read_at+'"></span>'):c.started_at.length>0&&d.push('Started <span class="timeago" title="'+c.started_at+'"></span>');var f=a("<li />").addClass("book").append(a("<img />",{src:c.book.image_url,alt:c.book.title})).append(a("<div />").addClass("info").append(a("<div />").addClass("title").append(a("<a />",{href:c.book.link}).html(c.book.title))).append(a("<div />").addClass("author").html(c.book.authors.author.name)).append(a("<div />").addClass("meta").append(d.join(" &middot; "))));e.append(f)}),d.append(e),"function"==typeof c&&c()},"json")}return{load:b}}(jQuery);$(document).ready(function(){Config.sidebar_visible&&$(".goodreads-container").each(function(a,b){Goodreads.load(b,function(){$(b).find(".timeago").timeago()})})});var Twitter=function(a){function b(b,f){var g={screen_name:"",count:7,cb:function(){}};e=a.extend(!0,g,f),d=b,0!=a(d).length&&a.get(Config.stylesheet_directory+"/ajax/twitter-feed.php",{username:e.screen_name,count:e.count},function(a){c(a)},"json")}function c(b){var c=a(d).find("ul"),f=/((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,g=new RegExp(f),h=/(?:\@(\w+))/gi,i=new RegExp(h);a.each(b,function(b,d){var e,f=d.text,h=[];e=f.match(g);for(var j in e){var k=e[j],l=a("<span />").append(a("<a />",{href:k}).html(k)).html();h.push({old_str:k,new_str:l})}for(var k;k=i.exec(f);){var l=a("<span />").append(a("<a />",{href:"http://twitter.com/"+k[1]}).html("@"+k[1])).html();h.push({old_str:k[0],new_str:l})}for(var b in h)f=f.replace(h[b].old_str,h[b].new_str);var m=a("<div />").addClass("meta");if(m.append(a("<a />",{href:"http://twitter.com/"+d.user.screen_name+"/status/"+d.id_str}).append(a("<span />",{title:d.created_at}).addClass("timeago"))),null!=d.in_reply_to_screen_name){var n=d.in_reply_to_screen_name;m.append(" in reply to ").append(a("<a />",{href:"http://twitter.com/"+n}).html("@"+n))}d.place&&m.append(" from "+d.place.full_name),"undefined"==typeof d.retweeted_status&&(d.favorite_count>0&&m.append(' &middot; <i class="icon-star"></i> '+d.favorite_count),d.retweet_count>0&&m.append(' &middot; <i class="icon-retweet"></i> '+d.retweet_count));{var o=a("<li />").addClass("tweet").append(a("<span />").addClass("content").html(f)).append(m);o.find(".content")}c.append(o)}),"function"==typeof e.cb&&e.cb()}var d,e;return{render:c,init:b}}(jQuery);$(document).ready(function(){Config.sidebar_visible&&Twitter.init("#twitter_feed",{screen_name:"JimmySawczuk",count:7,cb:function(){$("#twitter_feed .timeago").timeago()}})}),function(a){var b=Config.stylesheet_directory+"/ajax/norad-stats.php";a(".post").on("click",".post_info .post_hearts .toggle_heart",function(){var c=a(this).parents(".post"),d=c.data("permalink");c.find(".post_hearts").toggleClass("hearted",!0),c.find(".post_hearts").hasClass("hearted")&&a.post(b,{method:"postEvent",url:d,event:"heart"},function(a){if(a.success){var b=a.payload;c.find(".post_hearts .big").html(b.count.lifetime)}},"json")}),a(document).ready(function(){var c=a(".post"),d=a.map(c,function(b){var c=a(b),d=c.data("permalink");return"url[]="+d}),e=["method=lifetimeEvent","event[]=heart"];a.each(d,function(a,b){e.push(b)}),a.getJSON(b+"?"+e.join("&"),function(b){if(b.success){var d=b.payload;a.each(d,function(b,d){a.each(c,function(b,c){a(c).data("permalink")==d.url&&(a(c).find(".post_hearts .big").html(d.count),d.is_member&&a(c).find(".post_hearts").toggleClass("hearted",!0))})})}else b.success||"Service unavailable"!=b.error||c.find(".post_hearts").hide()},"json")})}(jQuery),function(a){a.fn.disableSelection=function(){return this.each(function(){a(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none","-ms-user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}}(jQuery),function(a){function b(){"undefined"!=typeof a.browser.msie&&a.browser.msie&&("8.0"==a.browser.version||"7.0"==a.browser.version)&&(a("html").addClass("ie"),"7.0"==a.browser.version&&a("html").addClass("ie7")),a(".post .content").find("img").removeAttr("width").removeAttr("height"),a(".post .content").find(".wp-caption").css("width","auto"),a(".timeago").timeago(),a("#nav .switch a").click(function(){a("#nav").toggleClass("active")})}Config.is_single&&!Config.is_page&&a(document).scroll(function(){a(".post .post_info").stop(),scroll_top=a(document).scrollTop(),scroll_top>a("#comments").position().top?(height=a("#comments").position().top,a(".post .post_info .top_link").css({display:"block"})):scroll_top>210?(height=scroll_top-200+"px",a(".post .post_info .top_link").css({display:"block"})):(height="0px",a(".post .post_info .top_link").css({display:"none"})),a(".post .post_info").animate({top:height},300)}),a(".widget_links").each(function(b,c){id=a(c).attr("id"),even=!1,a("#"+id+" ul li").each(function(b,c){a(c).addClass(even?"even":"odd"),even=!even})}),a("blockquote").each(function(b,c){var d=a(c).attr("cite");"undefined"!=typeof d&&!function(b){var d=a("<a />").attr({href:b,target:"_blank"}),e=d[0].hostname.split(".");e=e[e.length-2]+"."+e[e.length-1],d.html(e),a(c).append(a("<div />").addClass("citation").html("Source: ").append(d))}(d)}),a(".share-button").click(function(b){b.preventDefault();var c=a(this).data("width")?a(this).data("width"):575,d=a(this).data("height")?a(this).data("height"):300;return window.open(a(this).attr("href"),"sharer","width="+c+",height="+d+",scrolling=0,status=0"),!1}),a(document).ready(function(){b()})}(jQuery);